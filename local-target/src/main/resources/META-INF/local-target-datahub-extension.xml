<!--
  ~ [y] hybris Platform
  ~
  ~ Copyright (c) 2017 SAP SE or an SAP affiliate company.
  ~ All rights reserved.
  ~
  ~ This software is the confidential and proprietary information of SAP
  ~ ("Confidential Information"). You shall not disclose such Confidential
  ~ Information and shall use it only in accordance with the terms of the
  ~ license agreement you entered into with SAP.
  -->
<extension xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.hybris.com/schema/"
		   xsi:schemaLocation="http://www.hybris.com/schema/ http://www.hybris.com/schema/datahub-metadata-schema-1.3.0.xsd"
		   name="local-target">

	<dependencies>
		<dependency>
			<extension>local-canonical</extension>
		</dependency>
	</dependencies>

	<targetSystems>
		<targetSystem>
			<name>HybrisApparelCoreInstallation</name>
			<type>HybrisCore</type>
			<exportURL>${datahub.extension.exportURL}</exportURL>
			<userName>${datahub.extension.userName}</userName>
			<password>${datahub.extension.password}</password>
			<exportCodes>
				<exportCode>
					$catalogVersion=catalogversion(catalog(id[default=apparelProductCatalog]),version[default='Staged'])[unique=true,default=apparelProductCatalog:Staged]
				</exportCode>
				<exportCode>
					$baseProduct=baseProduct(code,catalogVersion(catalog(id[default='apparelProductCatalog']),version[default='Staged']))
				</exportCode>
			</exportCodes>
			<targetItems>
				<item>
					<type>ApparelProduct</type>
					<exportCode>ApparelProduct</exportCode>
					<description>Hybris Platform representation of apparel product</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalProduct</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>
						<attribute>
							<name>code</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>integrationKey</transformationExpression>
							<exportCode>code[unique=true]</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute override="true">
							<name>baseName</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>baseName</transformationExpression>
							<exportCode>name</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>baseDescription</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>baseDescription</transformationExpression>
							<exportCode>description</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>unit</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>unit</transformationExpression>
							<exportCode>unit(code)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>numberContentUnits</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>numberContentUnits</transformationExpression>
							<exportCode>numberContentUnits</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>superCategories</name>
							<localizable>false</localizable>
							<collection>true</collection>
							<transformationExpression>category</transformationExpression>
							<exportCode>supercategories(code,$catalogVersion)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>ean</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>ean</transformationExpression>
							<exportCode>ean</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>catalogVersion</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>$catalogVersion</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>variantType</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>varianttype(code)[default=ApparelStyleVariantProduct]</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
					</attributes>
				</item>
				<item>
					<type>ApparelStyleVariantProduct</type>
					<exportCode>ApparelStyleVariantProduct</exportCode>
					<description>Style Variant for an Apparel Product</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalVariant</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>
						<attribute>
							<name>code</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>product + '-1'</transformationExpression>
							<exportCode>code[unique=true]</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>style</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>style</transformationExpression>
							<exportCode>style</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>description</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>styleDescription</transformationExpression>
							<exportCode>description</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>baseProduct</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>product</transformationExpression>
							<exportCode>$baseProduct</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>catalogVersion</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>$catalogVersion</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>variantType</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>varianttype(code)[default=ApparelSizeVariantProduct]</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
					</attributes>
				</item>
				<item>
					<type>ApparelSizeVariantProduct</type>
					<exportCode>ApparelSizeVariantProduct</exportCode>
					<description>Size Variant for an Apparel Product</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalVariant</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>
						<attribute>
							<name>code</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>SKU</transformationExpression>
							<exportCode>code[unique=true]</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>size</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>size</transformationExpression>
							<exportCode>size</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>baseProduct</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>product + '-1'</transformationExpression>
							<exportCode>$baseProduct</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>catalogVersion</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>$catalogVersion</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>variantType</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>varianttype(code)[default=ApparelSizeVariantProduct]</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
					</attributes>
				</item>
				<item>
					<type>Category</type>
					<exportCode>Category</exportCode>
					<description>Product Category</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalCategory</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>
						<attribute>
							<name>code</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>integrationKey</transformationExpression>
							<exportCode>code[unique=true]</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>name</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>name</transformationExpression>
							<exportCode>name</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>description</name>
							<localizable>true</localizable>
							<collection>false</collection>
							<transformationExpression>description</transformationExpression>
							<exportCode>description</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>superCategories</name>
							<localizable>false</localizable>
							<collection>true</collection>
							<transformationExpression>parent</transformationExpression>
							<exportCode>supercategories(code,$catalogVersion)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>catalogVersion</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>""</transformationExpression>
							<exportCode>$catalogVersion</exportCode>
							<mandatoryInHeader>true</mandatoryInHeader>
						</attribute>
					</attributes>
				</item>
			</targetItems>
		</targetSystem>
	</targetSystems>

</extension>
